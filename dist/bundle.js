!function(t){function e(n){if(d[n])return d[n].exports;var c=d[n]={exports:{},id:n,loaded:!1};return t[n].call(c.exports,c,c.exports,e),c.loaded=!0,c.exports}var d={};return e.m=t,e.c=d,e.p="/",e(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\n__webpack_require__(2);\n\nvar _dom = __webpack_require__(1);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _app = __webpack_require__(3);\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar worker = (0, _app2.default)(); /* eslint-disable */\n\n(0, _dom2.default)(worker);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0ICcuL3N0eWxlJztcbmltcG9ydCBkb20gZnJvbSAnLi9yZW5kZXJlci9kb20nO1xuaW1wb3J0IHNwYXduV29ya2VyIGZyb20gJ3dvcmtlci1sb2FkZXIhLi9hcHAnO1xuXG5sZXQgd29ya2VyID0gc3Bhd25Xb3JrZXIoKTtcbmRvbSh3b3JrZXIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9pbmRleC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/** Events that should not be proxied into the Worker's DOM */\nvar EVENT_BLACKLIST = 'mousewheel wheel animationstart animationiteration animationend devicemotion deviceorientation deviceorientationabsolute'.split(' ');\n\n/** Options for global addEventListener */\nvar EVENT_OPTS = {\n\tcapture: true,\n\tpassive: true\n};\n\n/** Sets up a bidirectional DOM Mutation+Event proxy to a Workerized app.\n *\t@param {Worker} opts.worker\t\tThe WebWorker instance to proxy to.\n */\n\nexports.default = function (worker) {\n\tvar NODES = new Map();\n\n\t/** Returns the real DOM Element corresponding to a serialized Element object. */\n\tfunction getNode(node) {\n\t\tif (!node) return null;\n\t\tif (node.nodeName === 'BODY') return document.body;\n\t\treturn NODES.get(node.__id);\n\t}\n\n\t// feature-detect support for event listener options\n\tvar supportsPassive = false;\n\ttry {\n\t\taddEventListener('test', null, {\n\t\t\tget passive() {\n\t\t\t\tsupportsPassive = true;\n\t\t\t}\n\t\t});\n\t} catch (e) {}\n\n\t/** Loop over all \"on*\" event names on Window and set up a proxy handler for each. */\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in window) {\n\t\tvar m = i.substring(2);\n\t\tif (i.substring(0, 2) === 'on' && i === i.toLowerCase() && EVENT_BLACKLIST.indexOf(m) < 0 && (window[i] === null || typeof window[i] === 'function')) {\n\t\t\taddEventListener(m, proxyEvent, supportsPassive ? EVENT_OPTS : true);\n\t\t}\n\t}\n\n\tvar touch = void 0;\n\n\t/** Derives {pageX,pageY} coordinates from a mouse or touch event. */\n\tfunction getTouch(e) {\n\t\tvar t = e.changedTouches && e.changedTouches[0] || e.touches && e.touches[0] || e;\n\t\treturn t && { pageX: t.pageX, pageY: t.pageY };\n\t}\n\n\t/** Forward a DOM Event into the Worker as a message */\n\tfunction proxyEvent(e) {\n\t\tif (e.type === 'click' && touch) return false;\n\n\t\tvar event = { type: e.type };\n\t\tif (e.target) event.target = e.target.__id;\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (var _i in e) {\n\t\t\tvar v = e[_i];\n\t\t\tif ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) !== 'object' && typeof v !== 'function' && _i !== _i.toUpperCase() && !event.hasOwnProperty(_i)) {\n\t\t\t\tevent[_i] = v;\n\t\t\t}\n\t\t}\n\n\t\tworker.postMessage({\n\t\t\ttype: 'event',\n\t\t\tevent: event\n\t\t});\n\n\t\tif (e.type === 'touchstart') {\n\t\t\ttouch = getTouch(e);\n\t\t} else if (e.type === 'touchend' && touch) {\n\t\t\tvar t = getTouch(e);\n\t\t\tif (t) {\n\t\t\t\tvar delta = Math.sqrt(Math.pow(t.pageX - touch.pageX, 2) + Math.pow(t.pageY - touch.pageY, 2));\n\t\t\t\tif (delta < 10) {\n\t\t\t\t\tevent.type = 'click';\n\t\t\t\t\tworker.postMessage({ type: 'event', event: event });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/** Create a real DOM Node from a skeleton Object (`{ nodeType, nodeName, attributes, children, data }`)\n *\t@example <caption>Text node</caption>\n *\t\tcreateNode({ nodeType:3, data:'foo' })\n *\t@example <caption>Element node</caption>\n *\t\tcreateNode({ nodeType:1, nodeName:'div', attributes:[{ name:'a', value:'b' }], childNodes:[ ... ] })\n  */\n\tfunction createNode(skel) {\n\t\tvar node = void 0;\n\t\tif (skel.nodeType === 3) {\n\t\t\tnode = document.createTextNode(skel.data);\n\t\t} else if (skel.nodeType === 1) {\n\t\t\tnode = document.createElement(skel.nodeName);\n\t\t\tif (skel.className) {\n\t\t\t\tnode.className = skel.className;\n\t\t\t}\n\t\t\tif (skel.style) {\n\t\t\t\tfor (var _i2 in skel.style) {\n\t\t\t\t\tif (skel.style.hasOwnProperty(_i2)) {\n\t\t\t\t\t\tnode.style[_i2] = skel.style[_i2];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (skel.attributes) {\n\t\t\t\tfor (var _i3 = 0; _i3 < skel.attributes.length; _i3++) {\n\t\t\t\t\tvar a = skel.attributes[_i3];\n\t\t\t\t\t// @TODO .ns\n\t\t\t\t\tnode.setAttribute(a.name, a.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (skel.childNodes) {\n\t\t\t\tfor (var _i4 = 0; _i4 < skel.childNodes.length; _i4++) {\n\t\t\t\t\tnode.appendChild(createNode(skel.childNodes[_i4]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnode.__id = skel.__id;\n\t\tNODES.set(skel.__id, node);\n\t\treturn node;\n\t}\n\n\t/** Apply MutationRecord mutations, keyed by type. */\n\tvar MUTATIONS = {\n\t\t/** Handles element insertion & deletion */\n\t\tchildList: function childList(_ref) {\n\t\t\tvar target = _ref.target,\n\t\t\t    removedNodes = _ref.removedNodes,\n\t\t\t    addedNodes = _ref.addedNodes,\n\t\t\t    previousSibling = _ref.previousSibling,\n\t\t\t    nextSibling = _ref.nextSibling;\n\n\t\t\tvar parent = getNode(target);\n\t\t\tif (removedNodes) {\n\t\t\t\tfor (var _i5 = removedNodes.length; _i5--;) {\n\t\t\t\t\tparent.removeChild(getNode(removedNodes[_i5]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (addedNodes) {\n\t\t\t\tfor (var _i6 = 0; _i6 < addedNodes.length; _i6++) {\n\t\t\t\t\tvar newNode = getNode(addedNodes[_i6]);\n\t\t\t\t\tif (!newNode) {\n\t\t\t\t\t\tnewNode = createNode(addedNodes[_i6]);\n\t\t\t\t\t}\n\t\t\t\t\tparent.insertBefore(newNode, nextSibling && getNode(nextSibling) || null);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/** Handles attribute addition, change, removal */\n\t\tattributes: function attributes(_ref2) {\n\t\t\tvar target = _ref2.target,\n\t\t\t    attributeName = _ref2.attributeName;\n\n\t\t\tvar val = void 0;\n\t\t\tfor (var _i7 = target.attributes.length; _i7--;) {\n\t\t\t\tvar p = target.attributes[_i7];\n\t\t\t\tif (p.name === attributeName) {\n\t\t\t\t\tval = p.value;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgetNode(target).setAttribute(attributeName, val);\n\t\t},\n\n\t\t/** Handles Text node content changes */\n\t\tcharacterData: function characterData(_ref3) {\n\t\t\tvar target = _ref3.target,\n\t\t\t    oldValue = _ref3.oldValue;\n\n\t\t\tgetNode(target).nodeValue = target.data;\n\t\t}\n\t};\n\n\t/** Apply a MutationRecord to the DOM */\n\tfunction applyMutation(mutation) {\n\t\tMUTATIONS[mutation.type](mutation);\n\t}\n\n\tvar timer = void 0;\n\n\t// stores pending DOM changes (MutationRecord objects)\n\tvar MUTATION_QUEUE = [];\n\n\t// Check if an Element is at least partially visible\n\tfunction isElementInViewport(el, cache) {\n\t\tif (el.nodeType === 3) el = el.parentNode;\n\t\tvar bbox = el.getBoundingClientRect();\n\t\treturn bbox.bottom >= 0 && bbox.right >= 0 && bbox.top <= (cache.height || (cache.height = window.innerHeight)) && bbox.left <= (cache.width || (cache.width = window.innerWidth));\n\t}\n\n\t// requestIdleCallback sortof-polyfill\n\tif (!global.requestIdleCallback) {\n\t\tvar IDLE_TIMEOUT = 10;\n\t\tglobal.requestIdleCallback = function (cb) {\n\t\t\tvar start = Date.now();\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn cb({\n\t\t\t\t\ttimeRemaining: function timeRemaining() {\n\t\t\t\t\t\treturn Math.max(0, IDLE_TIMEOUT - (Date.now() - start));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 1);\n\t\t};\n\t}\n\n\t// Attempt to flush & process as many MutationRecords as possible from the queue\n\tfunction processMutationQueue(deadline) {\n\t\tclearTimeout(timer);\n\t\tvar q = MUTATION_QUEUE,\n\t\t    start = Date.now(),\n\t\t    isDeadline = deadline && deadline.timeRemaining,\n\t\t    cache = {},\n\t\t    useVis = (document.getElementById('#use-vis') || cache).checked,\n\t\t    i = void 0;\n\t\tfor (i = 0; i < q.length; i++) {\n\t\t\tif (isDeadline ? deadline.timeRemaining() <= 0 : Date.now() - start > 1) break;\n\n\t\t\tvar _m = q[i];\n\n\t\t\t// if the element is offscreen, skip any text or attribute changes:\n\t\t\tif (useVis && (_m.type === 'characterData' || _m.type === 'attributes')) {\n\t\t\t\tvar target = getNode(_m.target);\n\t\t\t\tif (target && !isElementInViewport(target, cache)) continue;\n\t\t\t}\n\n\t\t\t// remove mutation from the queue and apply it:\n\t\t\tapplyMutation(q.splice(i--, 1)[0]);\n\t\t}\n\n\t\t// still remaining work to be done\n\t\tif (q.length) doProcessMutationQueue();\n\t}\n\n\tfunction doProcessMutationQueue() {\n\t\t// requestAnimationFrame(processMutationQueue);\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(processMutationQueue, 100);\n\t\trequestIdleCallback(processMutationQueue);\n\t}\n\n\t// Add a MutationRecord to the queue\n\tfunction queueMutation(mutation) {\n\t\t// for single-node updates, merge into pending updates\n\t\tif (mutation.type === 'characterData' || mutation.type === 'attributes') {\n\t\t\tfor (var _i8 = MUTATION_QUEUE.length; _i8--;) {\n\t\t\t\tvar _m2 = MUTATION_QUEUE[_i8];\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\tif (_m2.type == mutation.type && _m2.target.__id == mutation.target.__id) {\n\t\t\t\t\tif (_m2.type === 'attributes') {\n\t\t\t\t\t\tMUTATION_QUEUE.splice(_i8 + 1, 0, mutation);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tMUTATION_QUEUE[_i8] = mutation;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (MUTATION_QUEUE.push(mutation) === 1) {\n\t\t\tdoProcessMutationQueue();\n\t\t}\n\t}\n\n\tworker.onmessage = function (_ref4) {\n\t\tvar data = _ref4.data;\n\n\t\tif (data.type === 'MutationRecord') {\n\t\t\tfor (var _i9 = 0; _i9 < data.mutations.length; _i9++) {\n\t\t\t\tqueueMutation(data.mutations[_i9]);\n\t\t\t}\n\t\t}\n\t};\n\n\tworker.postMessage({\n\t\ttype: 'init',\n\t\tlocation: location.href\n\t});\n\n\tsetTimeout(function () {\n\t\tvar collection = document.getElementById(\"collection\");\n\t\tvar div = document.getElementById(\"foo\");\n\t\tdiv.appendChild(collection);\n\t}, 2000);\n};\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcmVuZGVyZXIvZG9tLmpzPzJiOTgiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKiogRXZlbnRzIHRoYXQgc2hvdWxkIG5vdCBiZSBwcm94aWVkIGludG8gdGhlIFdvcmtlcidzIERPTSAqL1xuY29uc3QgRVZFTlRfQkxBQ0tMSVNUID0gJ21vdXNld2hlZWwgd2hlZWwgYW5pbWF0aW9uc3RhcnQgYW5pbWF0aW9uaXRlcmF0aW9uIGFuaW1hdGlvbmVuZCBkZXZpY2Vtb3Rpb24gZGV2aWNlb3JpZW50YXRpb24gZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZScuc3BsaXQoJyAnKTtcblxuXG4vKiogT3B0aW9ucyBmb3IgZ2xvYmFsIGFkZEV2ZW50TGlzdGVuZXIgKi9cbmNvbnN0IEVWRU5UX09QVFMgPSB7XG5cdGNhcHR1cmU6IHRydWUsXG5cdHBhc3NpdmU6IHRydWVcbn07XG5cblxuLyoqIFNldHMgdXAgYSBiaWRpcmVjdGlvbmFsIERPTSBNdXRhdGlvbitFdmVudCBwcm94eSB0byBhIFdvcmtlcml6ZWQgYXBwLlxuICpcdEBwYXJhbSB7V29ya2VyfSBvcHRzLndvcmtlclx0XHRUaGUgV2ViV29ya2VyIGluc3RhbmNlIHRvIHByb3h5IHRvLlxuICovXG5leHBvcnQgZGVmYXVsdCAod29ya2VyKSA9PiB7XG5cdGNvbnN0IE5PREVTID0gbmV3IE1hcCgpO1xuXG5cdC8qKiBSZXR1cm5zIHRoZSByZWFsIERPTSBFbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gYSBzZXJpYWxpemVkIEVsZW1lbnQgb2JqZWN0LiAqL1xuXHRmdW5jdGlvbiBnZXROb2RlKG5vZGUpIHtcblx0XHRpZiAoIW5vZGUpIHJldHVybiBudWxsO1xuXHRcdGlmIChub2RlLm5vZGVOYW1lPT09J0JPRFknKSByZXR1cm4gZG9jdW1lbnQuYm9keTtcblx0XHRyZXR1cm4gTk9ERVMuZ2V0KG5vZGUuX19pZCk7XG5cdH1cblxuXG5cdC8vIGZlYXR1cmUtZGV0ZWN0IHN1cHBvcnQgZm9yIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnNcblx0bGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuXHR0cnkge1xuXHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCB7XG5cdFx0XHRnZXQgcGFzc2l2ZSgpIHsgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTsgfVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlKSB7fVxuXG5cblx0LyoqIExvb3Agb3ZlciBhbGwgXCJvbipcIiBldmVudCBuYW1lcyBvbiBXaW5kb3cgYW5kIHNldCB1cCBhIHByb3h5IGhhbmRsZXIgZm9yIGVhY2guICovXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cblx0Zm9yIChsZXQgaSBpbiB3aW5kb3cpIHtcblx0XHRsZXQgbSA9IGkuc3Vic3RyaW5nKDIpO1xuXHRcdGlmIChpLnN1YnN0cmluZygwLDIpPT09J29uJyAmJiBpPT09aS50b0xvd2VyQ2FzZSgpICYmIEVWRU5UX0JMQUNLTElTVC5pbmRleE9mKG0pPDAgJiYgKHdpbmRvd1tpXT09PW51bGwgfHwgdHlwZW9mIHdpbmRvd1tpXT09PSdmdW5jdGlvbicpKSB7XG5cdFx0XHRhZGRFdmVudExpc3RlbmVyKG0sIHByb3h5RXZlbnQsIHN1cHBvcnRzUGFzc2l2ZSA/IEVWRU5UX09QVFMgOiB0cnVlKTtcblx0XHR9XG5cdH1cblxuXG5cdGxldCB0b3VjaDtcblxuXHQvKiogRGVyaXZlcyB7cGFnZVgscGFnZVl9IGNvb3JkaW5hdGVzIGZyb20gYSBtb3VzZSBvciB0b3VjaCBldmVudC4gKi9cblx0ZnVuY3Rpb24gZ2V0VG91Y2goZSkge1xuXHRcdGxldCB0ID0gKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXSkgfHwgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXNbMF0pIHx8IGU7XG5cdFx0cmV0dXJuIHQgJiYgeyBwYWdlWDogdC5wYWdlWCwgcGFnZVk6IHQucGFnZVkgfTtcblx0fVxuXG5cdC8qKiBGb3J3YXJkIGEgRE9NIEV2ZW50IGludG8gdGhlIFdvcmtlciBhcyBhIG1lc3NhZ2UgKi9cblx0ZnVuY3Rpb24gcHJveHlFdmVudChlKSB7XG5cdFx0aWYgKGUudHlwZT09PSdjbGljaycgJiYgdG91Y2gpIHJldHVybiBmYWxzZTtcblxuXHRcdGxldCBldmVudCA9IHsgdHlwZTogZS50eXBlIH07XG5cdFx0aWYgKGUudGFyZ2V0KSBldmVudC50YXJnZXQgPSBlLnRhcmdldC5fX2lkO1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cblx0XHRmb3IgKGxldCBpIGluIGUpIHtcblx0XHRcdGxldCB2ID0gZVtpXTtcblx0XHRcdGlmICh0eXBlb2YgdiE9PSdvYmplY3QnICYmIHR5cGVvZiB2IT09J2Z1bmN0aW9uJyAmJiBpIT09aS50b1VwcGVyQ2FzZSgpICYmICFldmVudC5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRldmVudFtpXSA9IHY7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0d29ya2VyLnBvc3RNZXNzYWdlKHtcblx0XHRcdHR5cGU6ICdldmVudCcsXG5cdFx0XHRldmVudFxuXHRcdH0pO1xuXG5cdFx0aWYgKGUudHlwZT09PSd0b3VjaHN0YXJ0Jykge1xuXHRcdFx0dG91Y2ggPSBnZXRUb3VjaChlKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoZS50eXBlPT09J3RvdWNoZW5kJyAmJiB0b3VjaCkge1xuXHRcdFx0bGV0IHQgPSBnZXRUb3VjaChlKTtcblx0XHRcdGlmICh0KSB7XG5cdFx0XHRcdGxldCBkZWx0YSA9IE1hdGguc3FydCggTWF0aC5wb3codC5wYWdlWCAtIHRvdWNoLnBhZ2VYLCAyKSArIE1hdGgucG93KHQucGFnZVkgLSB0b3VjaC5wYWdlWSwgMikgKTtcblx0XHRcdFx0aWYgKGRlbHRhPDEwKSB7XG5cdFx0XHRcdFx0ZXZlbnQudHlwZSA9ICdjbGljayc7XG5cdFx0XHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKHsgdHlwZTogJ2V2ZW50JywgZXZlbnQgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdC8qKiBDcmVhdGUgYSByZWFsIERPTSBOb2RlIGZyb20gYSBza2VsZXRvbiBPYmplY3QgKGB7IG5vZGVUeXBlLCBub2RlTmFtZSwgYXR0cmlidXRlcywgY2hpbGRyZW4sIGRhdGEgfWApXG5cdCpcdEBleGFtcGxlIDxjYXB0aW9uPlRleHQgbm9kZTwvY2FwdGlvbj5cblx0Klx0XHRjcmVhdGVOb2RlKHsgbm9kZVR5cGU6MywgZGF0YTonZm9vJyB9KVxuXHQqXHRAZXhhbXBsZSA8Y2FwdGlvbj5FbGVtZW50IG5vZGU8L2NhcHRpb24+XG5cdCpcdFx0Y3JlYXRlTm9kZSh7IG5vZGVUeXBlOjEsIG5vZGVOYW1lOidkaXYnLCBhdHRyaWJ1dGVzOlt7IG5hbWU6J2EnLCB2YWx1ZTonYicgfV0sIGNoaWxkTm9kZXM6WyAuLi4gXSB9KVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlTm9kZShza2VsKSB7XG5cdFx0bGV0IG5vZGU7XG5cdFx0aWYgKHNrZWwubm9kZVR5cGU9PT0zKSB7XG5cdFx0XHRub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc2tlbC5kYXRhKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoc2tlbC5ub2RlVHlwZT09PTEpIHtcblx0XHRcdG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNrZWwubm9kZU5hbWUpO1xuXHRcdFx0aWYgKHNrZWwuY2xhc3NOYW1lKSB7XG5cdFx0XHRcdG5vZGUuY2xhc3NOYW1lID0gc2tlbC5jbGFzc05hbWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoc2tlbC5zdHlsZSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIHNrZWwuc3R5bGUpIGlmIChza2VsLnN0eWxlLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHNrZWwuc3R5bGVbaV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChza2VsLmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0Zm9yIChsZXQgaT0wOyBpPHNrZWwuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGxldCBhID0gc2tlbC5hdHRyaWJ1dGVzW2ldO1xuXHRcdFx0XHRcdC8vIEBUT0RPIC5uc1xuXHRcdFx0XHRcdG5vZGUuc2V0QXR0cmlidXRlKGEubmFtZSwgYS52YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChza2VsLmNoaWxkTm9kZXMpIHtcblx0XHRcdFx0Zm9yIChsZXQgaT0wOyBpPHNrZWwuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlTm9kZShza2VsLmNoaWxkTm9kZXNbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRub2RlLl9faWQgPSBza2VsLl9faWQ7XG5cdFx0Tk9ERVMuc2V0KHNrZWwuX19pZCwgbm9kZSk7XG5cdFx0cmV0dXJuIG5vZGU7XG5cdH1cblxuXG5cdC8qKiBBcHBseSBNdXRhdGlvblJlY29yZCBtdXRhdGlvbnMsIGtleWVkIGJ5IHR5cGUuICovXG5cdGNvbnN0IE1VVEFUSU9OUyA9IHtcblx0XHQvKiogSGFuZGxlcyBlbGVtZW50IGluc2VydGlvbiAmIGRlbGV0aW9uICovXG5cdFx0Y2hpbGRMaXN0KHsgdGFyZ2V0LCByZW1vdmVkTm9kZXMsIGFkZGVkTm9kZXMsIHByZXZpb3VzU2libGluZywgbmV4dFNpYmxpbmcgfSkge1xuXHRcdFx0bGV0IHBhcmVudCA9IGdldE5vZGUodGFyZ2V0KTtcblx0XHRcdGlmIChyZW1vdmVkTm9kZXMpIHtcblx0XHRcdFx0Zm9yIChsZXQgaT1yZW1vdmVkTm9kZXMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZW1vdmVDaGlsZChnZXROb2RlKHJlbW92ZWROb2Rlc1tpXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoYWRkZWROb2Rlcykge1xuXHRcdFx0XHRmb3IgKGxldCBpPTA7IGk8YWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGxldCBuZXdOb2RlID0gZ2V0Tm9kZShhZGRlZE5vZGVzW2ldKTtcblx0XHRcdFx0XHRpZiAoIW5ld05vZGUpIHtcblx0XHRcdFx0XHRcdG5ld05vZGUgPSBjcmVhdGVOb2RlKGFkZGVkTm9kZXNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHRTaWJsaW5nICYmIGdldE5vZGUobmV4dFNpYmxpbmcpIHx8IG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiogSGFuZGxlcyBhdHRyaWJ1dGUgYWRkaXRpb24sIGNoYW5nZSwgcmVtb3ZhbCAqL1xuXHRcdGF0dHJpYnV0ZXMoeyB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUgfSkge1xuXHRcdFx0bGV0IHZhbDtcblx0XHRcdGZvciAobGV0IGk9dGFyZ2V0LmF0dHJpYnV0ZXMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0XHRsZXQgcCA9IHRhcmdldC5hdHRyaWJ1dGVzW2ldO1xuXHRcdFx0XHRpZiAocC5uYW1lPT09YXR0cmlidXRlTmFtZSkge1xuXHRcdFx0XHRcdHZhbCA9IHAudmFsdWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGdldE5vZGUodGFyZ2V0KS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgdmFsKTtcblx0XHR9LFxuXHRcdC8qKiBIYW5kbGVzIFRleHQgbm9kZSBjb250ZW50IGNoYW5nZXMgKi9cblx0XHRjaGFyYWN0ZXJEYXRhKHsgdGFyZ2V0LCBvbGRWYWx1ZSB9KSB7XG5cdFx0XHRnZXROb2RlKHRhcmdldCkubm9kZVZhbHVlID0gdGFyZ2V0LmRhdGE7XG5cdFx0fVxuXHR9O1xuXG5cblx0LyoqIEFwcGx5IGEgTXV0YXRpb25SZWNvcmQgdG8gdGhlIERPTSAqL1xuXHRmdW5jdGlvbiBhcHBseU11dGF0aW9uKG11dGF0aW9uKSB7XG5cdFx0TVVUQVRJT05TW211dGF0aW9uLnR5cGVdKG11dGF0aW9uKTtcblx0fVxuXG5cdGxldCB0aW1lcjtcblxuXHQvLyBzdG9yZXMgcGVuZGluZyBET00gY2hhbmdlcyAoTXV0YXRpb25SZWNvcmQgb2JqZWN0cylcblx0bGV0IE1VVEFUSU9OX1FVRVVFID0gW107XG5cblx0Ly8gQ2hlY2sgaWYgYW4gRWxlbWVudCBpcyBhdCBsZWFzdCBwYXJ0aWFsbHkgdmlzaWJsZVxuXHRmdW5jdGlvbiBpc0VsZW1lbnRJblZpZXdwb3J0KGVsLCBjYWNoZSkge1xuXHRcdGlmIChlbC5ub2RlVHlwZT09PTMpIGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHRsZXQgYmJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHJldHVybiAoXG5cdFx0XHRiYm94LmJvdHRvbT49MCAmJlxuXHRcdFx0YmJveC5yaWdodD49MCAmJlxuXHRcdFx0YmJveC50b3A8PShjYWNoZS5oZWlnaHQgfHwgKGNhY2hlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCkpICYmXG5cdFx0XHRiYm94LmxlZnQ8PShjYWNoZS53aWR0aCB8fCAoY2FjaGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCkpXG5cdFx0KTtcblx0fVxuXG5cblx0Ly8gcmVxdWVzdElkbGVDYWxsYmFjayBzb3J0b2YtcG9seWZpbGxcblx0aWYgKCFnbG9iYWwucmVxdWVzdElkbGVDYWxsYmFjaykge1xuXHRcdGNvbnN0IElETEVfVElNRU9VVCA9IDEwO1xuXHRcdGdsb2JhbC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gY2IgPT4ge1xuXHRcdFx0bGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcblx0XHRcdHNldFRpbWVvdXQoICgpID0+IGNiKHtcblx0XHRcdFx0dGltZVJlbWFpbmluZzogKCkgPT4gTWF0aC5tYXgoMCwgSURMRV9USU1FT1VUIC0gKERhdGUubm93KCkgLSBzdGFydCkpXG5cdFx0XHR9KSwgMSk7XG5cdFx0fTtcblx0fVxuXG5cblx0Ly8gQXR0ZW1wdCB0byBmbHVzaCAmIHByb2Nlc3MgYXMgbWFueSBNdXRhdGlvblJlY29yZHMgYXMgcG9zc2libGUgZnJvbSB0aGUgcXVldWVcblx0ZnVuY3Rpb24gcHJvY2Vzc011dGF0aW9uUXVldWUoZGVhZGxpbmUpIHtcblx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdGxldCBxID0gTVVUQVRJT05fUVVFVUUsXG5cdFx0XHRzdGFydCA9IERhdGUubm93KCksXG5cdFx0XHRpc0RlYWRsaW5lID0gZGVhZGxpbmUgJiYgZGVhZGxpbmUudGltZVJlbWFpbmluZyxcblx0XHRcdGNhY2hlID0ge30sXG5cdFx0XHR1c2VWaXMgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyN1c2UtdmlzJykgfHwgY2FjaGUpLmNoZWNrZWQsXG5cdFx0XHRpO1xuXHRcdGZvciAoaT0wOyBpPHEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChpc0RlYWRsaW5lID8gZGVhZGxpbmUudGltZVJlbWFpbmluZygpPD0wIDogKERhdGUubm93KCktc3RhcnQpPjEgKSBicmVhaztcblxuXHRcdFx0bGV0IG0gPSBxW2ldO1xuXG5cdFx0XHQvLyBpZiB0aGUgZWxlbWVudCBpcyBvZmZzY3JlZW4sIHNraXAgYW55IHRleHQgb3IgYXR0cmlidXRlIGNoYW5nZXM6XG5cdFx0XHRpZiAodXNlVmlzICYmIChtLnR5cGU9PT0nY2hhcmFjdGVyRGF0YScgfHwgbS50eXBlPT09J2F0dHJpYnV0ZXMnKSkge1xuXHRcdFx0XHRsZXQgdGFyZ2V0ID0gZ2V0Tm9kZShtLnRhcmdldCk7XG5cdFx0XHRcdGlmICh0YXJnZXQgJiYgIWlzRWxlbWVudEluVmlld3BvcnQodGFyZ2V0LCBjYWNoZSkpIGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgbXV0YXRpb24gZnJvbSB0aGUgcXVldWUgYW5kIGFwcGx5IGl0OlxuXHRcdFx0YXBwbHlNdXRhdGlvbihxLnNwbGljZShpLS0sIDEpWzBdKTtcblx0XHR9XG5cblx0XHQvLyBzdGlsbCByZW1haW5pbmcgd29yayB0byBiZSBkb25lXG5cdFx0aWYgKHEubGVuZ3RoKSBkb1Byb2Nlc3NNdXRhdGlvblF1ZXVlKCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGRvUHJvY2Vzc011dGF0aW9uUXVldWUoKSB7XG5cdFx0Ly8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHByb2Nlc3NNdXRhdGlvblF1ZXVlKTtcblx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdHRpbWVyID0gc2V0VGltZW91dChwcm9jZXNzTXV0YXRpb25RdWV1ZSwgMTAwKTtcblx0XHRyZXF1ZXN0SWRsZUNhbGxiYWNrKHByb2Nlc3NNdXRhdGlvblF1ZXVlKTtcblx0fVxuXG5cblx0Ly8gQWRkIGEgTXV0YXRpb25SZWNvcmQgdG8gdGhlIHF1ZXVlXG5cdGZ1bmN0aW9uIHF1ZXVlTXV0YXRpb24obXV0YXRpb24pIHtcblx0XHQvLyBmb3Igc2luZ2xlLW5vZGUgdXBkYXRlcywgbWVyZ2UgaW50byBwZW5kaW5nIHVwZGF0ZXNcblx0XHRpZiAobXV0YXRpb24udHlwZT09PSdjaGFyYWN0ZXJEYXRhJyB8fCBtdXRhdGlvbi50eXBlPT09J2F0dHJpYnV0ZXMnKSB7XG5cdFx0XHRmb3IgKGxldCBpPU1VVEFUSU9OX1FVRVVFLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdFx0bGV0IG0gPSBNVVRBVElPTl9RVUVVRVtpXTtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRpZiAobS50eXBlPT1tdXRhdGlvbi50eXBlICYmIG0udGFyZ2V0Ll9faWQ9PW11dGF0aW9uLnRhcmdldC5fX2lkKSB7XG5cdFx0XHRcdFx0aWYgKG0udHlwZT09PSdhdHRyaWJ1dGVzJykge1xuXHRcdFx0XHRcdFx0TVVUQVRJT05fUVVFVUUuc3BsaWNlKGkrMSwgMCwgbXV0YXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdE1VVEFUSU9OX1FVRVVFW2ldID0gbXV0YXRpb247XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoTVVUQVRJT05fUVVFVUUucHVzaChtdXRhdGlvbik9PT0xKSB7XG5cdFx0XHRkb1Byb2Nlc3NNdXRhdGlvblF1ZXVlKCk7XG5cdFx0fVxuXHR9XG5cblxuXHR3b3JrZXIub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG5cdFx0aWYgKGRhdGEudHlwZT09PSdNdXRhdGlvblJlY29yZCcpIHtcblx0XHRcdGZvciAobGV0IGk9MDsgaTxkYXRhLm11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRxdWV1ZU11dGF0aW9uKGRhdGEubXV0YXRpb25zW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblxuXHR3b3JrZXIucG9zdE1lc3NhZ2Uoe1xuXHRcdHR5cGU6ICdpbml0Jyxcblx0XHRsb2NhdGlvbjogbG9jYXRpb24uaHJlZlxuXHR9KTtcblxuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRsZXQgY29sbGVjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdGlvblwiKTtcblx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb29cIik7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKGNvbGxlY3Rpb24pO1xuXHR9LCAyMDAwKTtcblxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvcmVuZGVyZXIvZG9tLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFLQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQWxDQTtBQUNBO0FBcUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3N0eWxlL2luZGV4Lmxlc3M/OWNmNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3R5bGUvaW5kZXgubGVzc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval('module.exports = function() {\n\treturn new Worker(__webpack_require__.p + "a1cf29dd443b9a46f70a.worker.js");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC5qcz82MmU2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBuZXcgV29ya2VyKF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhMWNmMjlkZDQ0M2I5YTQ2ZjcwYS53b3JrZXIuanNcIik7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL34vd29ya2VyLWxvYWRlciEuL2FwcC5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')}]);